<!DOCTYPE html>
<html>
<head>
    <title>Hamster Combat</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Главный экран -->
        <div id="mainScreen">
            <h1>🐹 Hamster Combat</h1>
            
            <div class="player-id">ID: <span id="playerId">---</span></div>
            
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-icon">💰</span>
                    <span id="coins">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">💪</span>
                    <span id="power">1</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">🎯</span>
                    <span id="level">1</span>
                </div>
            </div>

            <div class="hamster" onclick="tap()">
                🐹
                <div class="tap-effect" id="tapEffect">+1</div>
            </div>

            <div class="buttons">
                <button class="game-btn" onclick="showScreen('upgrades')">🛠 Улучшения</button>
                <button class="game-btn" onclick="showScreen('stats')">📊 Статистика</button>
                <button class="game-btn" onclick="showScreen('shop')">🏪 Магазин</button>
                <button class="game-btn admin-btn" onclick="showScreen('admin')" id="adminBtn" style="display: none;">👑 Админ</button>
            </div>
        </div>

        <!-- Экран улучшений -->
        <div id="upgradesScreen" class="screen" style="display: none;">
            <h2>🛠 Улучшения</h2>
            <div id="upgradesList" class="upgrades-list"></div>
            <button class="back-btn" onclick="showScreen('main')">🔙 Назад</button>
        </div>

        <!-- Экран статистики -->
        <div id="statsScreen" class="screen" style="display: none;">
            <h2>📊 Статистика</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalCoins">0</div>
                    <div class="stat-label">Всего монет</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalTaps">0</div>
                    <div class="stat-label">Всего тапов</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalPower">1</div>
                    <div class="stat-label">Общая сила</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="playTime">0</div>
                    <div class="stat-label">Минут игры</div>
                </div>
            </div>
            <button class="back-btn" onclick="showScreen('main')">🔙 Назад</button>
        </div>

        <!-- Экран магазина -->
        <div id="shopScreen" class="screen" style="display: none;">
            <h2>🏪 Магазин</h2>
            <div class="shop-items">
                <div class="shop-item" onclick="buyItem('autoTap')">
                    <div class="item-icon">⚡</div>
                    <div class="item-info">
                        <div class="item-name">Авто-тап</div>
                        <div class="item-price">500 монет</div>
                    </div>
                </div>
                <div class="shop-item" onclick="buyItem('doubleCoins')">
                    <div class="item-icon">💰</div>
                    <div class="item-info">
                        <div class="item-name">x2 Монеты</div>
                        <div class="item-price">1000 монет</div>
                    </div>
                </div>
            </div>
            <button class="back-btn" onclick="showScreen('main')">🔙 Назад</button>
        </div>

        <!-- Админ панель -->
        <div id="adminScreen" class="screen" style="display: none;">
            <h2>👑 Админ Панель</h2>
            <div class="admin-buttons">
                <button class="admin-action" onclick="showScreen('adminPlayers')">👥 Игроки</button>
                <button class="admin-action" onclick="showScreen('adminLogs')">📋 Логи</button>
                <button class="admin-action" onclick="showScreen('adminSuspicious')">🚨 Подозрительные</button>
                <button class="admin-action" onclick="showScreen('adminImages')">🖼 Изображения</button>
            </div>
            <button class="back-btn" onclick="showScreen('main')">🔙 Назад</button>
        </div>

        <!-- Список игроков -->
        <div id="adminPlayers" class="screen" style="display: none;">
            <h2>👥 Управление игроками</h2>
            <div class="search-box">
                <input type="text" id="playerSearch" placeholder="Поиск по ID или имени..." onkeyup="searchPlayers()">
            </div>
            <div id="playersList" class="players-list"></div>
            <button class="back-btn" onclick="showScreen('admin')">🔙 Назад</button>
        </div>

        <!-- Логи -->
        <div id="adminLogs" class="screen" style="display: none;">
            <h2>📋 Логи действий</h2>
            <div class="logs-controls">
                <button class="admin-action" onclick="loadLogs('all')">Все</button>
                <button class="admin-action" onclick="loadLogs('suspicious')">Подозрительные</button>
                <button class="admin-action" onclick="loadLogs('purchases')">Покупки</button>
                <button class="admin-action" onclick="exportLogs()">📁 Экспорт</button>
            </div>
            <div id="logsList" class="logs-list"></div>
            <button class="back-btn" onclick="showScreen('admin')">🔙 Назад</button>
        </div>

        <!-- Подозрительные действия -->
        <div id="adminSuspicious" class="screen" style="display: none;">
            <h2>🚨 Подозрительные действия</h2>
            <div id="suspiciousList" class="suspicious-list"></div>
            <button class="back-btn" onclick="showScreen('admin')">🔙 Назад</button>
        </div>

        <!-- Управление изображениями -->
        <div id="adminImages" class="screen" style="display: none;">
            <h2>🖼 Управление изображениями</h2>
            <div class="image-upload">
                <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                <button class="admin-action" onclick="document.getElementById('imageUpload').click()">📁 Загрузить изображение</button>
                <div class="upload-info">
                    <input type="text" id="imageName" placeholder="Название улучшения">
                    <input type="number" id="imageCost" placeholder="Стоимость">
                    <input type="number" id="imagePower" placeholder="Сила">
                </div>
            </div>
            <div id="imagesList" class="images-list"></div>
            <button class="back-btn" onclick="showScreen('admin')">🔙 Назад</button>
        </div>

        <!-- Детали игрока -->
        <div id="playerDetails" class="screen" style="display: none;">
            <h2>📊 Детали игрока</h2>
            <div id="playerDetailsContent"></div>
            <button class="back-btn" onclick="showScreen('adminPlayers')">🔙 Назад</button>
        </div>

        <!-- Уведомление -->
        <div id="notification" class="notification"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
